<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”ºç”°å¸‚çŒ®æœ¬ãƒãƒƒãƒ—</title>
    <link rel="stylesheet" href="style.css">
    <!-- LIFF SDK -->
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>
    <div id="app">
        <header>
            <h1>ğŸ—ºï¸ ç”ºç”°å¸‚çŒ®æœ¬ãƒãƒƒãƒ—</h1>
            <div id="status">èª­ã¿è¾¼ã¿ä¸­...</div>
        </header>
        
        <!-- ä½æ‰€æ¤œç´¢ãƒ‘ãƒãƒ« -->
        <div id="search-panel">
            <h3>ğŸ“ ä½æ‰€æ¤œç´¢</h3>
            <div class="search-form">
                <div class="search-row">
                    <label>ç”ºå:</label>
                    <input type="text" id="town-name" placeholder="ä¾‹: åŸç”ºç”°">
                </div>
                <div class="search-row">
                    <label>ä¸ç›®:</label>
                    <input type="text" id="chome" placeholder="ä¾‹: 1">
                </div>
                <div class="search-row">
                    <label>ç•ªåœ°:</label>
                    <input type="text" id="banchi" placeholder="ä¾‹: 2">
                </div>
                <div class="search-row">
                    <label>å·:</label>
                    <input type="text" id="go" placeholder="ä¾‹: 3">
                </div>
                <button id="search-btn" class="btn-primary">ğŸ” æ¤œç´¢</button>
            </div>
        </div>
        
        <div id="map"></div>
        
        <!-- çŒ®æœ¬ãƒ¡ãƒ¢ãƒ‘ãƒãƒ« -->
        <div id="record-panel" style="display:none;">
            <h3>ğŸ“ çŒ®æœ¬ãƒ¡ãƒ¢</h3>
            <div id="record-info"></div>
            <textarea id="memo-input" placeholder="ãƒ¡ãƒ¢ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„..."></textarea>
            <div class="button-group">
                <button id="save-record-btn" class="btn-primary">ğŸ’¾ è¨˜éŒ²ã‚’ä¿å­˜</button>
                <button id="delete-record-btn" class="btn-danger" style="display:none;">ğŸ—‘ï¸ è¨˜éŒ²ã‚’å‰Šé™¤</button>
                <button id="cancel-record-btn" class="btn-secondary">âœ• ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
            </div>
        </div>
        
        <div id="info">
            <h2>ç”ºç”°å¸‚çŒ®æœ¬ãƒãƒƒãƒ—</h2>
            <p>ç”ºç”°æ”¯éƒ¨ç®¡å†…ã§çŒ®æœ¬ã«ã‚ˆã‚Šä¸»ã®æ„›ãŒå±Šã„ãŸè¨˜éŒ²ã€‚</p>
            <p class="info-note">ğŸ’¡ åœ°å›³ä¸Šã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å ´æ‰€ã‚’é¸æŠã—ã€ãƒ¡ãƒ¢ã‚’è¨˜éŒ²ã§ãã¾ã™ã€‚è¨˜éŒ²ã•ã‚ŒãŸå ´æ‰€ã¯é»„è‰²ãå…‰ã‚Šã¾ã™ãŒã€1ã‹æœˆçµŒã¤ã¨æ¶ˆãˆã¾ã™ã€‚</p>
            <div id="user-info"></div>
        </div>
        
        <footer>
            <button id="close-btn" style="display:none;">é–‰ã˜ã‚‹</button>
        </footer>
    </div>

    <!-- Config JS (must be loaded before app.js) -->
    <script src="config.js"></script>
    <!-- App JS (must be loaded before Google Maps callback) -->
    <script src="app.js"></script>
    <!-- Google Maps API -->
    <script>
    (function () {
        if (!window.CONFIG || !CONFIG.GOOGLE_MAPS_API_KEY) {
            console.error('Google Maps API key is missing in CONFIG');
            return;
        }
        const key = encodeURIComponent(CONFIG.GOOGLE_MAPS_API_KEY);
        const src = 'https://maps.googleapis.com/maps/api/js?key=' + key + '&libraries=places&language=ja&callback=initMap';
        const s = document.createElement('script');
        s.src = src;
        s.async = true;
        s.defer = true;
        document.head.appendChild(s);
    })();
    </script>
</body>
</html>
